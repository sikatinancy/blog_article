<style>

    nav {
        box-shadow: 0 2px 8px 0 rgba(30, 58, 138, 0.08);
        border-bottom: 2px solid #ff9256;
        background: linear-gradient(90deg, #1e3a8a, #ff9256);
    }
    nav a {
        transition: color 0.2s, background 0.2s;
        border-radius: 0.375rem;
        padding: 0.25rem 0.75rem;
    }
    nav a:hover, nav a:focus {
        background: #ff9256;
        color: #fff !important;
    }
    nav .active {
        background: #ff9256;
        color: #fff !important;
    }


</style>
<nav class="bg-gradient-to-r from-primary to-accent text-white shadow-md py-3">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between">
    
    <div class="flex items-center gap-4">
      <!-- Icône de livre ajoutée ici -->
      <a href="{% url 'users:home' %}" class="flex items-center gap-2 text-white font-bold text-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
        BlogApp
      </a>
    </div>

    <!-- Navigation Desktop - Améliorée -->
    <div class="hidden md:flex items-center gap-3">
      <a href="{% url 'users:home' %}" class="px-4 py-2 rounded-lg hover:bg-accent/80 transition-all duration-200 font-medium border border-transparent hover:border-white/20">Accueil</a>
      <a href="#articles" class="px-4 py-2 rounded-lg hover:bg-accent/80 transition-all duration-200 font-medium border border-transparent hover:border-white/20">Articles</a>
      <a href="{% url 'users:contact' %}" class="px-4 py-2 rounded-lg hover:bg-accent/80 transition-all duration-200 font-medium border border-transparent hover:border-white/20">Contact</a>
      <a href="#commentaires" class="px-4 py-2 rounded-lg hover:bg-accent/80 transition-all duration-200 font-medium border border-transparent hover:border-white/20">Commentaire</a>

      <!-- Séparateur -->
      <div class="h-6 w-px bg-white/30 mx-2"></div>

      <!-- Liens toujours visibles - Boutons plus distincts -->
      <div class="flex items-center gap-3">
        <a href="{% url 'users:login' %}" class="btn-primary">Se connecter</a>
        <a href="{% url 'users:register' %}" class="btn-primary">S'inscrire</a>

        <!-- Liens Dashboard/Admin si connecté -->
        {% if user.is_authenticated %}
          <a href="{% url 'users:dashboard' %}" class="px-4 py-2 rounded-lg bg-white text-secondary font-semibold hover:bg-gray-100 transition-all duration-200 shadow-sm hover:shadow-md border border-gray-200">Mon Dashboard</a>
          {% if user.is_superuser %}
            <a href="{% url 'users:admin_dashboard' %}" class="px-4 py-2 rounded-lg bg-yellow-500 text-white font-semibold hover:bg-yellow-600 transition-all duration-200 shadow-sm hover:shadow-md border border-yellow-600">Admin</a>
          {% endif %}
        {% endif %}
      </div>
    </div>

    <!-- Bouton Menu Mobile -->
    <div class="md:hidden">
      <button id="mobile-menu-button" class="p-3 rounded-lg bg-white text-primary shadow-sm hover:shadow-md transition-all duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

  </div>

  <!-- Menu Mobile - Amélioré -->
  <div id="mobile-menu" class="hidden md:hidden bg-white text-primary shadow-lg">
    <div class="px-4 py-2 space-y-1">
      <a href="{% url 'users:home' %}" class="block px-4 py-3 rounded-lg hover:bg-gray-100 transition-all duration-200 font-medium border-l-4 border-primary">Accueil</a>
      <a href="#articles" class="block px-4 py-3 rounded-lg hover:bg-gray-100 transition-all duration-200 font-medium border-l-4 border-primary">Articles</a>
      <a href="{% url 'users:contact' %}" class="block px-4 py-3 rounded-lg hover:bg-gray-100 transition-all duration-200 font-medium border-l-4 border-primary">Contact</a>
      <a href="#commentaires" class="block px-4 py-3 rounded-lg hover:bg-gray-100 transition-all duration-200 font-medium border-l-4 border-primary">Commentaire</a>
    </div>

    <!-- Séparateur -->
    <div class="border-t border-gray-200 my-2"></div>

    <div class="px-4 py-2 space-y-1">
      <!-- Liens toujours visibles -->
      <a href="{% url 'users:login' %}" class="block px-4 py-3 rounded-lg bg-primary text-blue font-semibold hover:bg-secondary/90 transition-all duration-200 text-center shadow-sm">Se connecter</a>
      <a href="{% url 'users:register' %}" class="block px-4 py-3 rounded-lg bg-accent text-blue font-semibold hover:bg-accent/90 transition-all duration-200 text-center shadow-sm">S'inscrire</a>

      {% if user.is_authenticated %}
        <a href="{% url 'users:dashboard' %}" class="block px-4 py-3 rounded-lg bg-gray-100 text-blue font-semibold hover:bg-gray-200 transition-all duration-200 text-center">Mon Dashboard</a>
        {% if user.is_superuser %}
          <a href="{% url 'users:admin_dashboard' %}" class="block px-4 py-3 rounded-lg bg-yellow-500 text-white font-semibold hover:bg-yellow-600 transition-all duration-200 text-center">Admin</a>
        {% endif %}
      {% endif %}
    </div>
  </div>

  <script>
    document.getElementById('mobile-menu-button')?.addEventListener('click', function() {
      const menu = document.getElementById('mobile-menu');
      if (!menu) return;
      menu.classList.toggle('hidden');
      
      // Animation smooth
      if (!menu.classList.contains('hidden')) {
        menu.style.transform = 'translateY(0)';
        menu.style.opacity = '1';
      }
    });

    // Fermer le menu mobile en cliquant à l'extérieur
    document.addEventListener('click', function(event) {
      const menu = document.getElementById('mobile-menu');
      const button = document.getElementById('mobile-menu-button');
      
      if (menu && !menu.classList.contains('hidden') && 
          !menu.contains(event.target) && 
          !button.contains(event.target)) {
        menu.classList.add('hidden');
      }
    });

    // Fermer le menu mobile en redimensionnant la fenêtre
    window.addEventListener('resize', function() {
      const menu = document.getElementById('mobile-menu');
      if (menu && window.innerWidth >= 768) {
        menu.classList.add('hidden');
      }
    });
  </script>
</nav>